<mat-spinner *ngIf="isMapLoading$|async" id="map-drawing-spinner" [diameter]="25"></mat-spinner>

<div id="map"></div>

<div id="ol-scaleline" class="scale-line" [style.left]="leftPositionForButtons"></div>

<div class="map-button-container" [style.left]="leftPositionForButtons">
  <button i18n-matTooltip matTooltip="Un clic droit ou un double clic termine le dessin" i18n-aria-label
    aria-label="Un clic droit ou un double clic termine le dessin" [color]="isDrawing ? 'accent' : 'primary'"
    mat-mini-fab (click)="toggleDrawing('Free')">
    <img src="assets/images/pen.svg" alt="Account" width="20" height="20" style="vertical-align: middle;" />
  </button>

  <button i18n-matTooltip matTooltip="Dessiner un rectangle" i18n-aria-label aria-label="Dessiner un rectangle"
    [color]="isDrawing ? 'accent' : 'primary'" mat-mini-fab (click)="toggleDrawing('Box')">
    <img src="assets/images/select.svg" alt="Account" width="20" height="20" style="vertical-align: middle;" />
  </button>

  <button i18n-matTooltip matTooltip="Supprimer le dessin" i18n-aria-label aria-label="Supprimer le dessin"
    color="primary" mat-mini-fab (click)="eraseDrawing()">
    <img src="assets/images/delete.svg" alt="Account" width="20" height="20" style="vertical-align: middle;" />
  </button>

  <button i18n-matTooltip matTooltip="Changer le fond de plan" i18n-aria-label aria-label="Changer le fond de plan"
    mat-mini-fab color="primary" [matMenuTriggerFor]="menu">
    <mat-icon>layers</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item *ngFor="let basemap of basemaps" (click)="switchBasemap(basemap.id)">
      <img alt="Basemap" [src]="basemap.thumbUrl" height="40px">
      <span>{{basemap.label}}</span>
    </button>
  </mat-menu>

  <button i18n-matTooltip matTooltip="Importer KML ou glisser-déposer le KML sur la carte" i18n-aria-label
    aria-label="Importer KML ou glisser-déposer le KML sur la carte" color="primary" mat-mini-fab
    (click)="openFileImport()">
    <mat-icon>file_upload</mat-icon>
  </button>
  <input type="file" #fileUpload id="fileUpload" name="fileUpload" accept=".kml" style="display:none;" />

  <button i18n-matTooltip matTooltip="Saisie manuelle" i18n-aria-label aria-label="Saisie manuelle" mat-mini-fab
    color="primary" (click)="toggleManualentry()">
    <mat-icon svgIcon="format"></mat-icon>
  </button>
</div>
